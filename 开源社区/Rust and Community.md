# Rust and Community

## 1. 为什么学习 Rust ？

### 1.1 Rust 起源

编写内存安全以及线程安全的代码一直以来都是程序员在开发过程中所想要达到的目标也是需要解决的难题。这个难题存在的本质原因是由于C/C++属于类型不安全的语言，它们薄弱的内存管理机制导致了很多常见的漏洞。虽然针对这一难题也有很多优秀的语言横空出世，比如Ada语言。Ada所具有的诸多特性，如：可以在编译期进行类型检查、无GC式确定性内存管理、内置安全并发模型、无数据竞争、系统级硬实时编程等。但是，其性能与C/C++相比还是有很大的差距。因此，我们急需一种拥有与C/C++相当性能，但比其更安全的语言。

为满足以上需求，Rust便开始被提出。Rust 源于 Mozilla 开发人员 Graydon Hoare 在 2006 年开发的个人项目，从那个时候起，该语言就像它所命名的 Rust 真菌一样，开始传播。自 2015 年 5 月发布 1.0 之后，一直以每 6 周一个小版本的开发进度稳定向前推进。它今天被广泛应用于构建网络、嵌入式计算机、分布式服务和命令行。

![v2-e4698f8f8444b28903d0d43b0a2c46dc_hd](https://tva1.sinaimg.cn/large/006tNbRwly1ga7t9z8kxfj30k009kaa8.jpg)

### 1.2 Rust 优势

从技术上说，Rust语言拥有非常显著的和引人注目的优势，这不仅仅体现在它追求替代C++方面，还表现以下三个方面：

- **性能**。Rust 的速度和内存效率高得夸张：无需运行时或垃圾收集器，它就能够支持性能关键服务，在嵌入式设备上运行，并轻松地与其他语言集成。
- **可靠性**。Rust 的富类型系统和所有权模型可保证内存安全和线程安全 — 并使您在编译时杜绝任何种类的漏洞。
- **生产率**。Rust 具有出色的文档、提供各种有用的错误消息且易用的编译器以及顶尖的工具 — 集成包管理器和构建工具、具有自动完成和类型检查功能的智能多编辑器支持、自动格式化程序以及其他。

安全是Rust要保证的重中之重。如果不能保证安全，那么Rust就没有存在的意义。Rust 语言设计上跟 C++ 一样强调零开销抽象和 RAII。拥有极小的运行时和高效的 C 绑定，使其运行效率与 C/C++ 一个级别，非常适合对性能要求较高的系统编程领域。C/C++ 提供了极高的灵活性，但是同时也让开发者面对各种的风险。C 语言可以实现非常高的性能，但是由于没有抽象层的保护，开发者很容易就会写出 Bug 。C++ 也类似，对开发者容忍度很低，一个很小的疏忽，就可能导致程序崩溃，其实崩溃还是幸运的，有时候会出现很低难以复现的诡异情况。

Rust 提供了很强的安全保证。使用 Rust 写的代码，运行的时候不会出现各种硬件安全问题，例如段错误，运行时崩溃，野指针，越界资源调用，或者 data race 。那么这是如何做到的呢？Rust 通过一定的语言层面的规定和强大的编译器支持来避免上面的情况。如果你是新手程序员，犯了上面的这些错误，编译的时候，编译器会直接告诉你存在的问题，而不会在程序运行的时候出现各种诡异的没有报错的状况。

# 2. 企业拥抱欢迎Rust 

据微软最新调查数据显示，在过去 12 年里，约 70% 的微软补丁都是针对内存安全的。如今，内存安全漏洞已成为黑客攻击的主要方向。多年来，微软始终在寻找更安全的 C 和 C++ 的替代品。由于Rust本身的显著特性（如1.2中所述）微软安全响应中心（MSRC）团队在官网更新文章，提出未来将使用Rust作为 C/C++ 以及其他编程语言的替代方案以改善应用程序的安全性的计划，从空间内存安全、时间内存安全、数据竞争等方面进行了进一步的深入补充。

Rust从几年前第一次稳定发布后就吸引了大量用户，像 Google、Microsoft 和 Mozilla 这样的公司都在使用 Rust。AWS也在其官网上发表申明宣布，即将赞助Rust编程语言，并且其在Lambda、EC2 和 S3 等服务中都选择在性能敏感的组件中使用 Rust，使用幅度也在大幅上涨。

Rust语言还在不断的演进，但已经区域稳定了，国内用Rust的团队也慢慢开始多了，包括PingCap的TiDB产品（TiKV使用Rust开发）。现在TiKV不仅大量用在生产环境中，还进入了CNCF基金会，成为了一个在Cloud上面构建其他服务的原生基础组件。虽然目前还没有针对 Rust 成熟的 IDE，但是在 LeetCode Playground 中，已经率先开启了针对 Rust 的支持，使用 Rust 1.31.0。同时，在 2017 年—2019 年 Stack Overflow 年度开发者调查中，Rust 语言已经连续三年成为最受欢迎语言 Top 1，下图分别是2017年，2018年，2019年的top10的情况。可见Rust应用前景及未来将会非常不错。

<img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga7ts5umfhj30p80vgwgy.jpg" alt="2017" style="zoom:29%;" /><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga7tsr0699j30p60ye76q.jpg" alt="2018" style="zoom:29%;" /><img src="https://tva1.sinaimg.cn/large/006tNbRwly1ga7tudhdknj30p016smzv.jpg" alt="2019" style="zoom:28%;" />

# 3. Rust 社区

## 3.1 加入社区的契机

第一次接触到Rust这门优秀的语言主要是因为实验室与TiDB的合作项目，企业要求我们需要在线参加在线课程并完成相关练习项目。其中，就是需要用Rust。在完成这些练习作业的过程中，开始正式了解这门语言，发现了它的优秀之处，翻阅了相关书籍学习了一下。对于Rust的学习，Rust官网列出了很多学习文档和资料。还可以通过订阅Rust每日新闻，了解Rust社区生态发展，学习Rust。Rust社区文化非常吸引人，社区推广力度很强。

## 3.2 收获

Rust社区提供了非常方便的交流学习平台，拥有超过 90 个聚会和几个世界级的会议，遍布 35 个国家。Rust 爱好者会在 Rust 用户论坛定期举办聚会。而对于想要加入 Rust 社区的人可以通过参加这些聚会，这也是一个和相同爱好者进行学习和交流的绝佳途径，聚会对每个人来说都会带来丰富和开放的信息。

在这里你可以通过在线交流平台跟其他爱好者一起沟通交流，共同促进社区发展。社区所提供的交流平台有三种，分为用户论坛，内部论坛，聊天平台。Rust用户论坛是Rust用户交流任何与Rust相关内容的地方，在这里可以对不懂的地方进行提问，分享项目创意，或者做任何想做的事情，这是一个完全开放自由的地方。Rust内部论坛是开发者们讨论Rust编程语言自身开发的地方，包括编译器、语言设计以及标准库等相关工作。Rust的开发和日常讨论通常都是在一些聊天平台上。Rust 编程语言具有很多优秀品质，不过它最大的优势在于，社区里的人们共同努力，使得大家在使用 Rust 的过程中获益良多。

#4. 参考

[1] Rust 官网：https://www.rust-lang.org

[2] 维基百科介绍 https://en.wikipedia.org/wiki/Rust_(programming_language)

[3] 张汉东. Rust编程之道[M]. 电子工业出版社. 第1版 (2019年1月1日)

[4] 范长春. 深入浅出Rust[M]. 机械工业出版社. 第1版 (2018年8月1日)

[5] Rust每日新闻 https://github.com/RustStudy/rust_daily_news

